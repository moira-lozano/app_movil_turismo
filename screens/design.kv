#: import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition
#: import FitImage kivymd.uix.fitimage.FitImage

<ElementCard@MDCard>:
    radius: '10dp'
    spacing: '10dp'
    padding: '0dp'
    size_hint: 1, None
    height: '200dp'
    image: ''
    text: ''
    sub_text: ''
    orientation: 'vertical'
    ripple_behavior: True
    on_release:
        app.root.transition = RiseInTransition()

    FitImage:
        source: root.image
        size_hint_y: 1
        radius: [10, 10, 0, 0]

    MDBoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: '60dp'
        padding: '5dp'
        spacing: '5dp'
        md_bg_color: 0, 0, 0, 0.4  # Fondo oscuro semitransparente sobre la imagen

        MDLabel:
            text: root.text
            halign: 'center'
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            font_style: 'H6'
            size_hint_y: None
            height: self.texture_size[1]

        MDLabel:
            text: root.sub_text
            halign: 'center'
            theme_text_color: 'Custom'
            text_color: 0.9, 0.9, 0.9, 1
            font_style: 'Caption'
            size_hint_y: None
            height: self.texture_size[1]


<CustomizeScreen@MDBoxLayout>:
    orientation: 'vertical'
    text: ''
    padding: '20dp'
    spacing: '10dp'

    MDLabel:
        text: root.text
        halign: 'center'
        valign: 'top'
        size_hint_y: None
        height: '40dp'
        pos_hint: {'center_x': 0.5}

    # Espaciador para empujar el botón hacia abajo
    Widget:

    # Contenedor para el botón centrado
    MDBoxLayout:
        orientation: 'horizontal'
        size_hint: 1, None
        height: '56dp'
        padding: ['100dp', 0, '100dp', '20dp']

        MDFillRoundFlatButton:
            text: 'REGRESAR'
            size_hint: None, None
            width: '200dp'
            height: '56dp'
            pos_hint: {'center_x': 0.5}
            on_release:
                app.root.current = 'screen_principal'
                app.root.transition = SlideTransition(direction='left')


<Ui>:
    MDScreen:
        name: 'screen_principal'
        md_bg_color: 0, .5, .5, 1

        MDBoxLayout:
            orientation: 'vertical'

            MDBoxLayout:
                size_hint: 1, .2
                orientation: 'horizontal'
                padding: '10dp'
                MDCard:
                    radius: '10dp'
                    padding: '10dp'
                    line_color: 1, 0, 1, 1

                    MDLabel:
                        text: 'APLICACION MOVIL DE TURISMO'
                        halign: 'center'
                        pos_hint: {'center_y': 0.5}
                    MDSwitch:
                        pos_hint: {'center_y': 0.5}
                        on_active: app.change_style(*args)

            MDGridLayout:
                cols: 3
                size_hint: 1, .8
                padding: ['10dp', '10dp', '10dp', '10dp']
                spacing: '10dp'

                ElementCard:
                    text: 'CAMIRI'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_camiri.png'
                    on_release:
                        app.root.current = 'screen1'
                        app.root.transition = RiseInTransition()

                ElementCard:
                    text: 'LAGUNILLAS'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_lagunillas.jpg'
                    on_release:
                        app.root.current = 'screen2'
                        app.root.transition = RiseInTransition()

                ElementCard:
                    text: 'CHARAGUA'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_charagua.jpeg'
                    on_release:
                        app.root.current = 'screen3'
                        app.root.transition = RiseInTransition()

                ElementCard:
                    text: 'CABEZAS'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_cabezas.jpg'
                    on_release:
                        app.root.current = 'screen4'
                        app.root.transition = RiseInTransition()

                ElementCard:
                    text: 'CUEVO'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_cuevo.jpg'
                    on_release:
                        app.root.current = 'screen5'
                        app.root.transition = RiseInTransition()

                ElementCard:
                    text: 'BOYUIBE'
                    sub_text: 'Municipio de la provincia Cordillera'
                    image: 'images/logo_boyuibe.jpg'
                    on_release:
                        app.root.current = 'screen6'
                        app.root.transition = RiseInTransition()

    MDScreen:
        name: 'screen1'
        md_bg_color: 0.93, 0.93, 0.95, 1  # color de fondo claro y formal
        CustomizeScreen:
            text: 'Pantalla Uno'

        # Contenedor principal centrado
        MDBoxLayout:
            orientation: 'vertical'
            spacing: '30dp'
            padding: '40dp'
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            size_hint: 0.85, None
            height: self.minimum_height

            MDLabel:
                text: "Selecciona una opción"
                halign: "center"
                font_style: "H6"
                size_hint_y: None
                height: '30dp'
                theme_text_color: "Custom"
                text_color: 0.4, 0.4, 0.4, 1  # gris medio

            # Espaciador
            Widget:
                size_hint_y: None
                height: '20dp'

            # Botones con mismo tamaño
            MDFillRoundFlatButton:
                text: "Historia"
                size_hint: 1, None
                height: '56dp'
                md_bg_color: 0.2, 0.6, 0.8, 1  # azul formal
                text_color: 1, 1, 1, 1
                on_release:
                    app.root.current = 'historia_camiri'

            MDFillRoundFlatButton:
                text: "Fechas importantes"
                size_hint: 1, None
                height: '56dp'
                md_bg_color: 0.2, 0.7, 0.5, 1  # verde azulado
                text_color: 1, 1, 1, 1
                on_release:
                    app.root.current = 'fecha_camiri'

            MDFillRoundFlatButton:
                text: "Lugares turísticos"
                size_hint: 1, None
                height: '56dp'
                md_bg_color: 0.6, 0.5, 0.8, 1  # violeta suave
                text_color: 1, 1, 1, 1
                on_release:
                    app.root.current = 'turismo_camiri'


    MDScreen:
        name: 'screen2'
        CustomizeScreen:
            text: 'Pantalla Dos'

    MDScreen:
        name: 'screen3'
        CustomizeScreen:
            text: 'Pantalla Tres'

    MDScreen:
        name: 'screen4'
        CustomizeScreen:
            text: 'Pantalla Cuatro'

    MDScreen:
        name: 'screen5'
        CustomizeScreen:
            text: 'Pantalla Cinco'

    MDScreen:
        name: 'screen6'
        CustomizeScreen:
            text: 'Pantalla Seis'
